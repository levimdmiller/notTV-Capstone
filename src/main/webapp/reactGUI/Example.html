<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="App.css">
</head>

<body>
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
    <div id="content" class="content">
    </div>
    <script type="text/jsx">
        class ListItem extends React.Component {
          //I was thinking I would get an id for a video and launch the web player and give the web player the id to play the video
          //var videoId = Do something to have an ID for a video. Probably Database ID.
            render() {
                return <li className="App-video"><a href="webPlayer.html?link=video1.mp4">{this.props.value}</a></li>
            }
        }

        class FilterList extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    filteredList: this.props.list
                };

                this.textChange = this.textChange.bind(this);
            }

            textChange(e) {
                this.setState({
                    filteredList: this.props.list.filter((item) => item.startsWith(e.target.value))
                });
            }

            render() {
                return (
                  <div className="App">

                    <header className="App-header">
                      <img className="App-logo" src="notTV_logo_white.png" alt="notTV"/>
                      <h1>Torrent Prototype</h1>
                    </header>

                    <div>
                    <p> This is a test. Milestone 1 Peer-to-peer filesharing system using torrent protocol implemented in Java.</p>
                    <p>Refine Search for a Video: (WIP)</p>
                    <input type="text" onChange={this.textChange}></input>

                        <ul>
                        {
                            this.state.filteredList.map((item, key) => {
                                return (
                                    <ListItem key={key} value={item}/>
                                );
                            })
                        }
                        </ul>
                    </div>

                  </div>

                );
            }
        }

        const List = [
            "Test Video!", "a", "24y29hu", "dfshskd"
        ];

        ReactDOM.render(
            <FilterList list={List}/>,
            document.getElementById('content')
        );
        </script>
</body>
</html>
